# Customer Behavior Analytics - Environment Configuration
# Copy this file to .env and configure with your actual values

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Flask server settings
FLASK_ENV=development
FLASK_DEBUG=true
PORT=5000
HOST=0.0.0.0

# API Configuration
API_VERSION=1.0
API_RATE_LIMIT=1000
API_SECRET_KEY=your-secret-key-here-change-in-production

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Primary database connection (if using external database)
# DATABASE_URL=postgresql://username:password@localhost:5432/customer_analytics
# DATABASE_URL=mysql://username:password@localhost:3306/customer_analytics
# DATABASE_URL=sqlite:///customer_data.db

# Database connection pool settings
# DB_POOL_SIZE=5
# DB_MAX_OVERFLOW=10
# DB_POOL_TIMEOUT=30

# =============================================================================
# DATA SOURCE CONFIGURATION
# =============================================================================

# CSV Data file path (default setup)
DATA_FILE=data/customer_data.csv

# External data sources (uncomment and configure as needed)
# CRM_API_URL=https://api.yourcrm.com/v1
# CRM_API_KEY=your-crm-api-key
# CRM_API_SECRET=your-crm-secret

# Data refresh settings
DATA_REFRESH_INTERVAL=3600  # seconds (1 hour)
DATA_CACHE_TTL=1800  # seconds (30 minutes)

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

# JWT Token settings
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production
JWT_ACCESS_TOKEN_EXPIRES=3600  # seconds (1 hour)
JWT_REFRESH_TOKEN_EXPIRES=2592000  # seconds (30 days)

# API Authentication
API_AUTHENTICATION_ENABLED=false
API_KEY_HEADER=X-API-Key

# CORS settings
CORS_ORIGINS=*
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=Content-Type,Authorization,X-API-Key

# Security headers
SECURE_HEADERS_ENABLED=true
HTTPS_REDIRECT=false

# =============================================================================
# LOGGING & MONITORING
# =============================================================================

# Logging configuration
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s
LOG_FILE=logs/customer_analytics.log
LOG_MAX_SIZE=10MB
LOG_BACKUP_COUNT=5

# Performance monitoring
ENABLE_METRICS=false
METRICS_PORT=9090

# Error tracking (e.g., Sentry)
# SENTRY_DSN=https://your-sentry-dsn-here
# SENTRY_ENVIRONMENT=development

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# Email notifications (for alerts)
# EMAIL_SMTP_HOST=smtp.gmail.com
# EMAIL_SMTP_PORT=587
# EMAIL_USERNAME=your-email@gmail.com
# EMAIL_PASSWORD=your-app-password
# EMAIL_FROM=noreply@yourcompany.com

# Redis (for caching and session storage)
# REDIS_URL=redis://localhost:6379/0
# REDIS_PASSWORD=your-redis-password
# REDIS_DB=0

# Message Queue (for background tasks)
# CELERY_BROKER_URL=redis://localhost:6379/1
# CELERY_RESULT_BACKEND=redis://localhost:6379/2

# =============================================================================
# ANALYTICS & REPORTING
# =============================================================================

# Analytics settings
ENABLE_REAL_TIME_ANALYTICS=true
ANALYTICS_BATCH_SIZE=1000
ANALYTICS_PROCESSING_INTERVAL=300  # seconds (5 minutes)

# Report generation
REPORT_OUTPUT_DIR=reports/
REPORT_FORMATS=pdf,csv,xlsx
MAX_REPORT_RETENTION_DAYS=90

# Data export settings
EXPORT_MAX_RECORDS=10000
EXPORT_ALLOWED_FORMATS=csv,json,xlsx

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================

# Development settings
DEBUG_TOOLBAR=false
PROFILING_ENABLED=false
TESTING=false

# Test database (for running tests)
# TEST_DATABASE_URL=sqlite:///test_customer_data.db

# Sample data settings
USE_SAMPLE_DATA=true
SAMPLE_DATA_SIZE=100

# =============================================================================
# PRODUCTION OPTIMIZATIONS
# =============================================================================

# Performance settings
THREADED=true
WORKERS=4
WORKER_CONNECTIONS=1000
KEEP_ALIVE=65
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=50

# Caching
CACHE_TYPE=simple
# CACHE_TYPE=redis
# CACHE_REDIS_URL=redis://localhost:6379/3
CACHE_DEFAULT_TIMEOUT=300

# Session configuration
SESSION_TYPE=filesystem
# SESSION_TYPE=redis
# SESSION_REDIS_URL=redis://localhost:6379/4
SESSION_PERMANENT=false
SESSION_COOKIE_SECURE=false  # Set to true in production with HTTPS
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Lax

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable specific features
FEATURE_ADVANCED_ANALYTICS=true
FEATURE_REAL_TIME_DASHBOARD=true
FEATURE_EXPORT_FUNCTIONALITY=true
FEATURE_USER_MANAGEMENT=false
FEATURE_API_RATE_LIMITING=false
FEATURE_AUDIT_LOGGING=false
